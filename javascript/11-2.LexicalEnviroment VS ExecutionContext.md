# 실행컨텍스트 vs Lexical 환경
렉시컬 환경을 공부하다보니, 실행 컨텍스트라는 개념과 어떤 차이가 있는건지 궁금해졌다. <br>
실행 컨텍스트를 복습하며 렉시컬 환경과의 차이점도 찾아보자.

<br>
<br>

## 🔥 [복습] 실행 컨텍스트
- 코드가 평가되고 실행되는 환경을 의미하는 추상적인 개념이다
- 실행 컨텍스트는 `Global Execution Context`와 `Functional Execution Context`로 구분된다
    - `Global Execution Context` : 전체 코드가 실행되는 환경으로, 가장 기본이 되는 실행 컨텍스트
    - `Functional Execution Context` : 함수가 호출될 때마다 생성되는 함수의 실행 컨텍스트
        - 함수 실행 컨텍스트는 브라우저의 실행 스택 용량에 따라 제한적으로 생성된다

<br>

### 🚀 실행 스택(Execution Stack)
![ExecutionStack](img/EsecutionStack.png)
- LIFO 구조를 가지며, 코드가 실행되는 동안 생성된 모든 실행 컨텍스트를 저장하는 데 사용한다
- JS엔진에서 스크립트가 실행되면, `Global Execution Context` 가 생성된다
- 생성된 `Global Execution Context`은 실행 스택에 push한다 
- 함수가 호출될 때마다, 호출된 함수의 `Functional Execution Context` 이 생성되고 실행 스택에 push한다
- 함수의 실행이 완료되면, 실행 스택에서 `Functional Execution Context` 을 pop한다
- 그리고 top에 해당하는 실행 컨텍스트에서 제어권을 가져간다

<br>
<br>

## 🔥 [추가] 실행 컨텍스트와 Lexical 환경
- 실행컨텍스트의 동작 방식을 ES5.1 전후로 나누어 알아보자

<br>

### 🚀 ES5.1 이전 : 실행 컨텍스트의 속성
- 실행 컨텍스트는 실행 가능한 코드를 형상화하고 구분하는 추상적인 개념이지만, 물리적으로는 객체의 형태를 가진다
- 객체의 형태를 가지기 때문에, 프로퍼티를 가지고 있다
- 실행 컨텍스트의 프로퍼티는 아래와 같다
    1. Variable Object(변수 객체)
    2. Scope Chain(스코프 체인)
    3. this value

#### 1) Variable Object(변수 객체)
- 변수 객체(Variable Object/VO)는 실행 컨텍스트와 관련있는 데이터 컨테이너이다 
- 데이터 컨테이너라고 말하는 이유는 변수, 함수 선언, 인수 객체를 저장하기 때문이다
- 변수 객체(Variable Object/VO) 역시 추상적인 개념이며 각각의 컨텍스트마다 서로 다른 객체를 사용한다
- `Global Context` 와 `Functional Context` 이 각각 가리키는 객체가 다르다
    - `Global Context` 의 변수 객체(VO)는 **전역 객체(Global Object/GO)**를 가리킨다 (**[🎨 이미지 참고](https://poiemaweb.com/img/ec-vo-global.png)**)
    - `Functional Context` 의 변수 객체(VO)는 **활성 객체(Activation Object/AO)**를 가리킨다 (**[🎨 이미지 참고](https://poiemaweb.com/img/ec-vo-foo.png)**)
        - 활성 객체에는 파라미터, 인자 값 등이 포함된다

<br>

#### 2) Scope Chain(스코프 체인)
- 스코프 체인은 일종의 리스트로서 실행 컨텍스트에 존재하는 식별자를 찾기위한 객체리스트를 의미한다
- 간단히 말하면 스코프 체인은 자신의 상위 변수 객체의 리스트를 의미한다
- 0번째 인덱스에는 자신의 변수 객체가 포함되어 있다 
- 함수를 실행하는 중, 변수를 만나면
    - 스코프체인[0] = 자신의 변수 객체 : 자신의 변수 객체에서 변수를 찾는다
    - 자신의 변수 객체에 변수가 없다면, 스코프체인에 담신 순서대로 변수 객체를 검색한다

<br>

#### 3) this value
- 

<br>
<br>

### 🚀 ES5.1 이후 : 실행 컨텍스트의 컴포넌트

<br>
<br>

## 🔥 [결론] 실행 컨텍스트의 컴포넌트 중 하나인 렉시컬 환경




<hr>
[참고] <br>
https://oyg0420.tistory.com/entry/%EC%8B%A4%ED%96%89-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8 `추천👍`


