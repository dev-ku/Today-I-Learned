# 벨로퍼트와 함께하는 모던 리액트
- 2022/06/30(목)
- 벨로퍼트와 함께하는 모던 리액트: https://react.vlpt.us/
- [참고] https://ko.reactjs.org/docs/getting-started.html
- 진도 
    - 1.10. useRef 로 특정 DOM 선택하기
    - 1.11. 배열 렌더링하기
    - 1.12. useRef 로 useRef 로 컴포넌트 안의 변수 만들기

<br>

## 💬 1.10. useRef 로 특정 DOM 선택하기
- JavaScript를 사용해 특정 DOM을 선택할 때는 DOM Selector함수를 사용했다
- 리액트에서 특정 DOM을 선택할 때에는 `ref` 를 사용한다
- 함수형 컴포넌트에서 `ref` 를 사용할 때에는 `useRef`라는 Hook함수를 사용한다
- 클래스형 컴포넌트는 콜백 함수를 활용하거나, `React.createRef`라는 함수를 사용한다
- `InputSample.js` 에 초기화 버큰을 클릭햇을 때, `input`태그에 포커스가 잡히도록 구현해보자

<br>

```jsx
import React, {useState, useRef} from 'react';

function InputSample(){
    const [inputs, setInputs] = useState({
        name: '',
        nickname: ''
    });
    const {name, nickname} = inputs;
    const nameInput = useRef(); // useRef()를 통해 ref객체 생성
    const temp = {
        name: '',
        age: 0,
        [name]: 'jey'
    }
    console.log(temp);
    
    const onChange = (e) => {
        const { name, value } = e.target;
        setInputs({
            ...inputs,
            [name]: value
        });

    }
    const onReset = () => {
        setInputs({
          name: '',
          nickname: '',
        });
        // nameInput이라는 ref를 가진 DOM에 focus가 가도록 
        nameInput.current.focus();
      };

    // init버튼을 눌렀을 때, focus가 이동할 태그에 ref={nameInput} 추가
    return (
        <div>
            <input placeholder='이름' name="name" onChange={onChange} value={name} ref={nameInput}></input>
            <br></br>
            <input placeholder='닉네임' name="nickname" onChange={onChange} value={nickname}></input>
            <br></br>
            <button onClick={onReset}>초기화</button>
            <div>
                <b>값: </b>
                {name}({nickname})
            </div>
        </div>
    );
}

export default InputSample;
```
- 먼저 `ref`를 사용하기 위해 `useRef`를 import한 다음, `useRef()`를 사용해 Ref객체를 만든다
- 이 객체를 우리가 선택하고 싶은 DOM에 `ref`값으로 설정한다
- 그러면 Ref객체의 `.current`값은 우리가 원하는 DOM을 가르키게 된다

<br>
<br>


## 💬 1.11. 배열 렌더링하기

```jsx
const users = [
    {
        id: 1,
        username: 'jjangu',
        email: 'jjangu@sunflower.com',
    },
    {
        id: 2,
        username: 'yuri',
        email: 'yuri@sunflower.com',
    },
    {
        id: 3,
        username: 'chita',
        email: 'chita@sunflower.com',
    },
];
```
- 이 내용을 컴포넌트로 렌더링해보도록한다
- 비효율적이긴하지만 가장 기본적인 방법인 그대로 코드를 작성해서 렌더링해보도록 한다 

```jsx
// UserList.js 추가
import React from 'react';

function UserList(){
    const users = [ 
        ...  // 위에서 작성한 배열
    ];  

    return(
        <div>
            <div><b>{users[0].username}</b> <span>({users[0].email})</span></div>
            <div><b>{users[1].username}</b> <span>({users[1].email})</span></div>
            <div><b>{users[2].username}</b> <span>({users[2].email})</span></div>
        </div>
    );
}

export default UserList;
```
- 중복되는 코드가 많으므로, 컴포넌트를 재 사용할 수 있도록 수정해보자

```jsx
// UserList.js 수정(1)
...
function User({user}){
    return(
        <div>
            <div><b>{user.username}</b> <span>({user.email})</span></div>
        </div>
    );

    functin UserList() {
        const users = [...];
        return (
            <div>
                <User user={users[0]}>
                <User user={users[1]}>
                <User user={users[2]}>
            </div>
        )
    }
}
```
- 배열의 인덱스를 하나하나 조회하며 렌더링하는 방법은, 동적으로는 대응할 수 없다
- 동적인 배열을 렌더링 할 때에는 자바스크립트 배열의 내장함수 `map()`을 사용하도록 한다
- `map()`함수는 배열 안에 있는 각 원소를 변환하여 새로운 배열을 만들어준다
- 리액트에서 동적인 배열을 렌더링해야할 때에는 이 함수를 사용해 일반 데이터 배열을 리액트 요소로 이루어진 배열로 변환할 수 있다

<br>

```jsx
// UserList.js 수정(2)
function User({user}){
    return(
        <div>
            <div><b>{user.username}</b> <span>({user.email})</span></div>
        </div>
    );

    functin UserList() {
        const users = [...];
        return (
            <div>
                {users.map(user => (
                    <User user={user} key={user.id} />
                ))}
            </div>
        )
    }
}
```
- 리액트에서 배열을 렌더링할 때에는 `key` 라는 props를 설정해야한다
- `key`값은 각 원소들마다 가지고 있는 고유값으로 설정한다
- `key`를 설정하지 않으면, 기본적으로 배열의 index값을 key로 사용하게 된다
- 그러면 console에 경고 메세지가 뜨게 된다. 각 고유 원소에 `key`가 있어야 배열 업데이트 시에 효율적인 렌더링이 가능하다
<img src="https://i.imgur.com/3rkaiY1.gif">

<br>

- 객체에 key로 사용할 property가 있다면, 해당 key를 찾아 바로 렌더링할 수 있다 
<img src="https://i.imgur.com/yEUS6Bx.gif">

- 때문에 배열을 렌더링하기위해서는 고유한 `key` 값을 갖는것이 중요하다 
- 만약 배열 내에 중복되는 `key`가 있으면 렌더링 시 오류가 나타난다 

<br>

## 💬 1.12. useRef 로 useRef 로 컴포넌트 안의 변수 만들기


```jsx
```

<br>